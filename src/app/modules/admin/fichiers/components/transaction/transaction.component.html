<p-toast></p-toast>
<div class="grid">
  <div class="col-12">
    <form [formGroup]="dateForm" (ngSubmit)="onFilter()">
      <div>
        <div class="p-field p-grid flex-container">
          <label for="startDate" class="p-col-12 p-md-2">Start Date</label>
          <div class="p-col-12 p-md-4">
            <p-calendar
              [showIcon]="true"
              [showOnFocus]="false"
              formControlName="startDate"
              id="startDate"
              inputId="buttondisplay"
            />
          </div>
          <label for="endDate" class="p-col-12 p-md-2">End Date</label>
          <div class="p-col-12 p-md-4">
            <p-calendar
              [showIcon]="true"
              [showOnFocus]="false"
              formControlName="endDate"
              id="endDate"
              inputId="buttondisplay"
            />
          </div>
          <div class="p-col-12 p-md-2">
            <button
              pButton
              pRipple
              type="submit"
              label="Filter"
              class="p-button-primary"
            ></button>
          </div>
          <div>
            <button
              pButton
              type="button"
              label="Clear"
              icon="pi pi-times"
              class="p-button-danger"
              (click)="clearDates()"
            ></button>
          </div>
        </div>
      </div>
    </form>
    <div class="flex-container">
      <h3>Total Amount: {{ totalAmount | currency }}</h3>
    </div>
    <p-table
      [value]="filteredTransactions"
      [paginator]="true"
      [rows]="10"
      [responsiveLayout]="'scroll'"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Account ID</th>
          <th>Amount</th>
          <th>Transaction Date</th>
          <th>Description</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-transaction>
        <tr>
          <td>{{ transaction.accountId }}</td>
          <td>{{ transaction.amount | currency }}</td>
          <td>{{ transaction.transactionDate | date : "shortDate" }}</td>
          <td>{{ transaction.description }}</td>
        </tr>
      </ng-template>
    </p-table>
  
  </div>
</div>
